'''
Created on 26.11.2015

@author: Oxana
'''
from random import randint
import Buffer
from time import sleep
from Buffer import pcpBuffer


class Producer():
    
    producerQueue = []
    nudel = False

    def __init__(self, producerid):
        self.producerid = producerid
        self.pcpBuffer = Buffer.pcpBuffer
    
    def generateRandomNumb():  # @NoSelf
        randomNumber = randint(1,100)
        return randomNumber
    
    def putToBuffer(self):
        self.nudel = self.pcpBuffer.push(Producer.generateRandomNumb())
        if self.nudel is True:
            print("Producer NR."+ str(self.producerid) + " put the last Item" )
            

        
    def runProducer(producerAmount):  # @NoSelf
        #print("Thread Producer started")
        i = 0
        while i < producerAmount:
            prodID = i + 1
            #print("the id of the producer " + str(prodID))
            producer = Producer(prodID)
            Producer.producerQueue.append(producer)
            i += 1   
        
        while True:
            for producer in Producer.producerQueue:
                #print("the id of the PRODUCER " + str(producer.producerid))
                producer.putToBuffer()
            
        
#end class
