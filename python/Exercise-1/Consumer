'''
Created on 29.11.2015

@author: Oxana
'''
import Buffer
import threading

class Consumer():
    
    consumerQueue = []
    
    def __init__(self, consumerid):
        self.consumerid = consumerid
        self.pcpBuffer = Buffer.pcpBuffer
        
    def getFromBuffer(self):
        numberFromBuffer = self.pcpBuffer.popNext()
        print("This is a number from the PCPBuffer : " + str(numberFromBuffer))
        
    def runConsumer(consumerAmount):  # @NoSelf
        i = 0
        while i < consumerAmount:
            consID = i
            print("the id of the consumer " + str(consID))
            consumer = Consumer(consID)
            Consumer.consumerQueue.append(consumer)
            i += 1   
            
        x = 0
        while x < 100:
            for consumer in Consumer.consumerQueue:
                print("the id of the CONSUMER " + str(consumer.consumerid))
                if Buffer.Buffer.isProductToConsume is True:    
                    consumer.getFromBuffer()
                    x += 1
                else:
                    print("Not Allowed to read products")
    
#end class
