
'''
Created on 29.11.2015

@author: Oxana
'''
import Buffer
import threading
from time import sleep
from Buffer import pcpBuffer

class Consumer():
    
    consumerQueue = []
    
    def __init__(self, consumerid):
        self.consumerid = consumerid
        self.pcpBuffer = Buffer.pcpBuffer
        
    def getFromBuffer(self):
        numberFromBuffer = self.pcpBuffer.pop()
        if numberFromBuffer is not None:
            print("Consumer NR."+ str(self.consumerid) + " got the Item: " + str(numberFromBuffer))
        
    def runConsumer(consumerAmount):  # @NoSelf
        i = 0
        while i < consumerAmount:
            consID = i + 1
            #print("the id of the consumer " + str(consID))
            consumer = Consumer(consID)
            Consumer.consumerQueue.append(consumer)
            i += 1   
            
        while True:
            for consumer in Consumer.consumerQueue:
                #print("Consumers turn: " + str(consumer.consumerid))
                consumer.getFromBuffer()
    
#end class
